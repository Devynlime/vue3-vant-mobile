<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <style>
    html {
      height: 100%;
    }
    body {
      margin: 0px;
      padding: 0px;
      overflow: hidden;
      height: 100%;
    }
    #videoDlg {
      height: 100%;
      margin: 0px;
      padding: 0px;
      overflow: hidden;
    }

    #videoBox {
      height: 100%;
      margin: 0px;
      overflow: hidden;
      text-align: center;
      background-color: black;
    }
  </style>

  <body style="padding: 0px">
    <div id="videoDlg">
      <div id="videoBox">
        <image
          style="height: calc(100% - 10px); object-fit: cover; margin-top: 5px"
          src="./sample.jpg"
        />
      </div>
      <div style="display: none">
        <input type="text" value="" id="tokenStr" style="width: 100px" />
        <input
          type="text"
          value="300190000003040168"
          id="deviceCodeStr"
          style="width: 100px"
        />
        <button onclick="test1()">test1</button
        ><button onclick="test2()">test2</button>
      </div>
    </div>
    <script>
      var demo;
      var urlinfo = window.location.href;
      console.log(">>>>>url info:", urlinfo);
      var reg = new RegExp("(^|&)token=([^&]*)(&|$)");
      var r = window.location.search.substr(1).match(reg);
      console.log(">>>>>>>>>", decodeURI(r[2]));
      document.getElementById("tokenStr").value = decodeURI(r[2]);

      window.destoryVideo = function () {
        console.log("demo.destory('videoBox')");
      };

      window.captureVideo = function (filename) {
        console.log("demo.capture(1, filename)", filename);
      };

      window.realRecordVideo = function (filename) {
        console.log("demo.realRecord(1, filename)", filename);
      };

      window.setWaterMarkVideo = function (title) {
        console.log("demo.setWaterMark(title, 10, 30, 1, 1)", title);
      };
      window.palyVideo = function (deviceCode, title) {
        console.log(
          "demo.videoPlay(1, 1, deviceCode, null, title, 1, null)",
          deviceCode,
          title,
        );
      };

      window.setVideoSize = function (isfull) {
        console.log("demo.setVideoSize(1, isfull)", isfull);
      };

      function test1() {
        alert("iii");
      }

      function test2() {
        alert("iii222");
      }
    </script>
  </body>
</html>
